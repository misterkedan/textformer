(()=>{"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.from,o=e.to,i=e.align,a=e.fill;t(this,n),Object.assign(this,arguments[0]),this.length=Math.max(r.length,o.length),this.alignTexts(i,a),this.build(),this.reset()}var r,o;return r=n,(o=[{key:"alignTexts",value:function(t,e){var n=this;if(t){var r=this.to.length-this.from.length;if(0!==r){var o=r>0?"from":"to",i=this[o],a=Math.abs(r),s=e?function(){return e}:function(){return n.generateRandomChar()},u=Array.from({length:a},s).join("");this[o]=t(i,u)}}}},{key:"build",value:function(){var t=this,e=this.length,n=this.from,r=this.to,o=this.computeStartFrames();console.log(o);var i=0;this.scenario=Array.from({length:e},(function(e,a){return function(e){var a=t.randomize(t.steps),s=o[e],u=s+a,c=n.charAt(e),l=r.charAt(e);return Array.from({length:a+1},(function(e,n){return function(e){var n=s+e;return n>i&&(i=n),{frame:n,char:n===s?c:n===u?l:t.generateRandomChar()}}(n)}))}(a)})),this.totalFrames=i+1}},{key:"computeStartFrames",value:function(){var t=this,e=this.length,n=this.stagger,r=this.origin;return r?Array.from({length:e},(function(o,i){var a=i-r,s=a>=0?a*n:(e+a)*n;return t.randomize(s)})):Array.from({length:e},(function(e,r){var o=r*n;return t.randomize(o)}))}},{key:"randomize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=this.randomness;if(!o)return t;var i=t-e*o,a=t+r*o;return n.generateRandomInt(i,a)}},{key:"generateRandomChar",value:function(){var t=this.charset,e=n.generateRandomInt(0,t.length-1);return t.charAt(e)}},{key:"getCharAt",value:function(t,e){var n=this.scenario[t],r=n.filter((function(t){return t.frame===e}))[0];if(!r){var o=n[0].frame,i=n[n.length-1].frame,a=e>i?i:o;r=n.filter((function(t){return t.frame===a}))[0]}return r.char}},{key:"reset",value:function(){this.progress=0}},{key:"update",value:function(){var t=this,e=this.frame,n=this.length;this.chars=Array.from({length:n},(function(n,r){return t.getCharAt(r,e)})),this.text=this.chars.join(""),this.output&&(this.output.innerHTML=this.text.replace(/ /g,"&nbsp;"))}},{key:"frame",get:function(){return this._frame},set:function(t){t!==this._frame&&(this._frame=t,this.update())}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this.frame=Math.round(this.totalFrames*t)}},{key:"hasValidOrigin",get:function(){var t=this.origin,e=this.length;return void 0!==t&&t>=0&&t<e}}])&&e(r.prototype,o),n}();function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.generateRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},n.charsets={UPPERCASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",DIGITS:"0123456789",SYMBOLS:"!@#$%&?"},n.charsets.LOWERCASE=n.charsets.UPPERCASE.toLowerCase(),n.charsets.ALL=Object.values(n.charsets).join(""),n.aligns={none:!1,left:function(t,e){return"".concat(t).concat(e)},center:function(t,e){var n=e.length,r=Math.floor(n/2),o=e.substring(0,r),i=e.substring(r,n);return"".concat(o).concat(t).concat(i)},right:function(t,e){return"".concat(e).concat(t)}};var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(p,t);var e,n,r,l,f=(r=p,l=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=c(r);if(l){var n=c(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function p(){return o(this,p),f.apply(this,arguments)}return e=p,(n=[{key:"computeStartFrames",value:function(){return a(c(p.prototype),"computeStartFrames",this).call(this).reverse()}}])&&i(e.prototype,n),p}(n);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return(y="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=v(r);if(o){var n=v(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return g(this,t)});function a(){return h(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"computeStartFrames",value:function(){var t=this.origin,e=this.stagger,n=a.shuffle(y(v(a.prototype),"computeStartFrames",this).call(this));return this.hasValidOrigin&&e>0?((n=n.filter((function(t){return t>0}))).splice(t,0,0),n):n}}])&&m(e.prototype,n),a}(n);function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}b.shuffle=function(t){for(var e=function(t){if(Array.isArray(t))return p(t)}(i=t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(i)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),o=[e[r],e[n]];e[n]=o[0],e[r]=o[1]}var i;return e};var j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w(this,t),Object.assign(this,e)}var e,n;return e=t,(n=[{key:"animate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;!this.time&&t&&(this.time=t);var e=this.textform,n=this.onChange,r=this.onComplete,o=this.duration,i=this.time,a=t-i;if(a>o)return e.progress=1,r&&r.call(),this.stop();var s=e.frame;e.progress=a/o,e.frame!==s&&n&&n.call(),this.requestAnimationFrame()}},{key:"requestAnimationFrame",value:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){this.animationFrame=requestAnimationFrame(this.animate.bind(this))}))},{key:"play",value:function(){var t=this.onBegin;t&&t.call(),this.time=0,this.textform.progress=0;var e=this.delay>0?this.delay:0;this.timeout=setTimeout(this.requestAnimationFrame.bind(this),e)}},{key:"stop",value:function(){clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame)}}])&&O(e.prototype,n),t}();function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=A(r);if(o){var n=A(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return C(this,t)});function a(){return P(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"computeStartFrames",value:function(){var t=this,e=this.length,n=this.stagger,r=this.origin,o=this.hasValidOrigin,i=o?r:Math.floor((e-1)/2),a=o||e%2!=0?i:i+1;return Array.from({length:e},(function(e,r){var o=r<a?i-r:r-a;return t.randomize(o*n)}))}}])&&S(e.prototype,n),a}(n);function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.mode,o=void 0===r?t.modes.default:r,i=e.autoPlay,a=void 0===i||i,s=e.speed,u=void 0===s?15:s,c=e.from,l=void 0===c?"Demo":c,f=e.to,p=void 0===f?"Textformer":f,h=e.steps,m=void 0===h?5:h,y=e.stagger,d=void 0===y?3:y,g=e.randomness,v=void 0===g?0:g,b=e.origin,w=e.output,O=e.charset,j=void 0===O?n.charsets.ALL:O,k=e.align,P=void 0===k?n.aligns.none:k,S=e.fill,x=void 0===S?" ":S,C=e.delay,A=void 0===C?0:C,R=e.duration,E=e.onBegin,T=e.onChange,F=e.onComplete;_(this,t),Object.assign(this,{mode:o,autoPlay:a,speed:u,options:{from:l,to:p,steps:m,stagger:d,randomness:v,origin:b,output:w,charset:j,align:P,fill:x},playerOptions:{duration:R,delay:A,onBegin:E,onChange:T,onComplete:F}}),this.build()}var e,r;return e=t,(r=[{key:"build",value:function(){var t=this.autoPlay,e=this.playerOptions,n=this.player,r=new this.mode(this.options);if(this.textform=r,t){if(!e.duration){var o=Math.abs(this.speed)||1;e.duration=r.totalFrames*(1e3/o)}e.textform=r,n&&n.stop(),this.player=new j(e),this.play()}}},{key:"play",value:function(){this.player&&this.player.play()}},{key:"stop",value:function(){this.player&&this.player.stop()}},{key:"replay",value:function(){this.stop(),this.play()}},{key:"progress",get:function(){return this.textform.progress},set:function(t){this.textform.progress=t}},{key:"text",get:function(){return this.textform.text}}])&&E(e.prototype,r),t}();T.aligns=n.aligns,T.charsets=n.charsets,T.modes={default:n,reverse:l,expand:R,shuffle:b};const F=dat.gui;function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){D(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function D(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B={output:document.querySelector("#demo-text"),from:"",to:"Textformer",mode:"expand",steps:10,stagger:3,randomness:2,speed:15,align:"left",fill:" ",delay:500,origin:-1},q=new T(M(M({},B),{},{mode:T.modes[B.mode],align:T.aligns[B.align]}));function I(){q.mode=T.modes[B.mode],q.options.align=T.aligns[B.align],q.options.fill.length>0&&(q.options.fill=q.options.fill.charAt(0)),q.playerOptions.duration=0,q.build(),L.updateDisplay()}var L=new F.GUI,U=L.addFolder("Textform");U.add(q.options,"from").onChange(I),U.add(q.options,"to").onChange(I),U.add(B,"mode",Object.keys(T.modes)).onChange(I),U.add(q.options,"steps",1,60).step(1).onChange(I),U.add(q.options,"stagger",0,30).step(1).onChange(I),U.add(q.options,"randomness",0,30).step(1).onChange(I),U.open();var V=L.addFolder("Animation");V.add(q,"speed",1,30).step(1).onChange(I),V.add(q,"progress",0,1).step(.001).listen(),V.add(q,"replay"),V.open();var G=L.addFolder("Advanced");G.add(B,"align",Object.keys(T.aligns)).onChange(I),G.add(q.options,"fill").onChange(I),G.add(q.options,"charset",T.charsets).onChange(I),G.add(q.playerOptions,"duration",150,1e4).step(50).onChange((function(){q.build()})),G.add(q.playerOptions,"delay",0,5e3).step(50).onChange(I),G.add(q.options,"origin",-1,10).step(1).onChange(I);var W=navigator.userAgent||navigator.vendor||window.opera,H=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|mediump|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(W)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(W.substr(0,4)),Y=window.innerWidth<640;(H||Y)&&L.close()})();